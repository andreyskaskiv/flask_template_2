{% extends '_base.html' %}

{% block page_content %}

{{ super() }}
{% for cat, msg in get_flashed_messages(True) %}
<div class="flash {{ cat }}">{{ msg }}</div>
{% endfor %}

<div id="reg_form">
    <h2>Registration form</h2>
    <form action="" method="post" class="form-contact">
        {{ form.hidden_tag() }}

        {% for field in form if field.name not in ['csrf_token', 'submit'] -%}
        <p>{{ field.label() }}
            {% if field.errors %}
            {{ field(class="invalid") }}
            <span class="invalid-feedback">
                        {% for e in field.errors %}
                            {{ e }}
                        {% endfor %}
                    </span>
            {% else %}
            {{ field(class="log_reg_input") }}
            {% endif %}
            {% endfor %}

        <p>{{ form.submit(class="btn btn-success") }}

    </form>
</div>
{% endblock page_content %}
